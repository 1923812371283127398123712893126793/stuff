local function decrypt(encryptedStr) 
    local keyData, encData = encryptedStr:match("^(.-)|(.*)$") 
    if not keyData or not encData then error("Invalid format") end 
    local decTable = {} 
    for i = 1, #keyData, 2 do decTable[keyData:sub(i+1,i+1)] = keyData:sub(i,i) end 
    local decrypted = {} 
    for i = 1, #encData do table.insert(decrypted, decTable[encData:sub(i,i)] or encData:sub(i,i)) end 
    loadstring(table.concat(decrypted))() 
end 
return decrypt
